$wnd.org_semanticsoft_vaaclipse_widgetset_DefaultWidgetset.runAsyncCallback3("function $getCellIndex(this$static){\n  return this$static.cellIndex;\n}\n\nfunction as_7(elem){\n  return elem;\n}\n\nfunction $getSectionRowIndex(this$static){\n  return this$static.sectionRowIndex;\n}\n\nfunction as_8(elem){\n  return elem;\n}\n\nfunction $getCellForEvent(this$static, event_0){\n  var column, row, td;\n  td = $getEventTargetCell(this$static, as_9($getNativeEvent(event_0)));\n  if (isNull_1(td)) {\n    return null;\n  }\n  row = $getSectionRowIndex(as_8($getParentElement(td)));\n  column = $getCellIndex(as_7(td));\n  return new HTMLTable$Cell(this$static, row, column);\n}\n\nfunction $getEventTargetCell(this$static, event_0){\n  var body_0, td, tr;\n  td = eventGetTarget_2(event_0);\n  for (; isNotNull(td); td = getParent_0(td)) {\n    if ($equalsIgnoreCase($getPropertyString(td, 'tagName'), 'td')) {\n      tr = getParent_0(td);\n      body_0 = getParent_0(tr);\n      if (jsEquals(body_0, this$static.bodyElem)) {\n        return asOld(td);\n      }\n    }\n    if (jsEquals(td, this$static.bodyElem)) {\n      return null;\n    }\n  }\n  return null;\n}\n\nfunction $$init_456(){\n}\n\nfunction $getCellIndex_0(this$static){\n  return this$static.cellIndex_0;\n}\n\nfunction $getRowIndex(this$static){\n  return this$static.rowIndex;\n}\n\nfunction HTMLTable$Cell(this$0, rowIndex, cellIndex){\n  this , this$0;\n  Object_0.call(this);\n  $$init_456();\n  this.cellIndex_0 = cellIndex;\n  this.rowIndex = rowIndex;\n}\n\ndefineClass(1809, 1, {}, HTMLTable$Cell);\n_.cellIndex_0 = 0;\n_.rowIndex = 0;\ndefineClass(1165, 1, $intern_126);\n_.refresh = function refresh(){\n  this.val$handler.invoke(this, $getMethod_0(getType_37(Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridServerRpc_2_classLit), 'refresh'), initValues(_3Ljava_lang_Object_2_classLit, $intern_7, 1, 3, []));\n}\n;\n_.select_3 = function select_6(p0, p1){\n  this.val$handler.invoke(this, $getMethod_0(getType_37(Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridServerRpc_2_classLit), 'select'), initValues(_3Ljava_lang_Object_2_classLit, $intern_7, 1, 3, [valueOf_59(p0), valueOf_59(p1)]));\n}\n;\nfunction $load_3(this$static){\n  $setSuperClass(this$static.val$store, Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit, Lcom_vaadin_shared_AbstractComponentState_2_classLit);\n  $setClass(this$static.val$store, 'com.vaadin.ui.components.colorpicker.ColorPickerGrid', Lcom_vaadin_client_ui_colorpicker_ColorPickerGridConnector_2_classLit);\n  $setConstructor(this$static.val$store, Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit, new ConnectorBundleLoaderImpl$3$1$1(this$static));\n  $setConstructor(this$static.val$store, Lcom_vaadin_client_ui_colorpicker_ColorPickerGridConnector_2_classLit, new ConnectorBundleLoaderImpl$3$1$2(this$static));\n  $setReturnType(this$static.val$store, Lcom_vaadin_client_ui_colorpicker_ColorPickerGridConnector_2_classLit, 'getState', new Type(Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit));\n  $loadJsBundle_1(this$static.val$store);\n  $setPropertyType(this$static.val$store, Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit, 'changedX', new Type(_3Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store, Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit, 'changedY', new Type(_3Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store, Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit, 'rowCount', new Type(Ljava_lang_Integer_2_classLit));\n  $setPropertyType(this$static.val$store, Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit, 'columnCount', new Type(Ljava_lang_Integer_2_classLit));\n  $setPropertyType(this$static.val$store, Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit, 'changedColor', new Type(_3Ljava_lang_String_2_classLit));\n}\n\nfunction $loadJsBundle_1(store){\n  $loadNativeJs_1(store);\n}\n\nfunction $loadNativeJs_1(store){\n  var data_0 = {setter:function(bean, value_0){\n    bean.changedX = value_0;\n  }\n  , getter:function(bean){\n    return bean.changedX;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit, 'changedX', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.changedY = value_0;\n  }\n  , getter:function(bean){\n    return bean.changedY;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit, 'changedY', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.rowCount = value_0.intValue();\n  }\n  , getter:function(bean){\n    return valueOf_59(bean.rowCount);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit, 'rowCount', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.columnCount = value_0.intValue();\n  }\n  , getter:function(bean){\n    return valueOf_59(bean.columnCount);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit, 'columnCount', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.changedColor = value_0;\n  }\n  , getter:function(bean){\n    return bean.changedColor;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit, 'changedColor', data_0);\n}\n\ndefineClass($intern_3, 1, $intern_100);\n_.onSuccess_1 = function onSuccess_4(){\n  $load_3(this);\n  $setLoaded_0(get_24(), $getName_4(this.this$1));\n}\n;\nfunction $$init_1061(){\n}\n\nfunction ConnectorBundleLoaderImpl$3$1$1(this$2){\n  this , this$2;\n  Object_0.call(this);\n  $$init_1061();\n}\n\ndefineClass(1785, 1, $intern_121, ConnectorBundleLoaderImpl$3$1$1);\n_.invoke_0 = function invoke_238(target, params){\n  return new ColorPickerGridState;\n}\n;\nfunction $$init_1062(){\n}\n\nfunction ConnectorBundleLoaderImpl$3$1$2(this$2){\n  this , this$2;\n  Object_0.call(this);\n  $$init_1062();\n}\n\ndefineClass(1389, 1, $intern_121, ConnectorBundleLoaderImpl$3$1$2);\n_.invoke_0 = function invoke_239(target, params){\n  return new ColorPickerGridConnector;\n}\n;\nfunction $$init_1436(this$static){\n  this$static.rpc = dynamicCast(create_14(Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridServerRpc_2_classLit, this$static), 1810);\n}\n\nfunction $getState_19(this$static){\n  return dynamicCast($getState_4(this$static), 403);\n}\n\nfunction $getWidget_16(this$static){\n  return dynamicCast($getWidget_2(this$static), 333);\n}\n\nfunction ColorPickerGridConnector(){\n  AbstractComponentConnector.call(this);\n  $$init_1436(this);\n}\n\ndefineClass(723, 388, $intern_185, ColorPickerGridConnector);\n_.createWidget = function createWidget_4(){\n  return new VColorPickerGrid;\n}\n;\n_.getState = function getState_39(){\n  return $getState_19(this);\n}\n;\n_.getState_0 = function getState_40(){\n  return $getState_19(this);\n}\n;\n_.getWidget_0 = function getWidget_22(){\n  return $getWidget_16(this);\n}\n;\n_.init = function init_20(){\n  $init_3();\n  $addClickHandler_4($getWidget_16(this), this);\n}\n;\n_.onClick = function onClick_50(event_0){\n  this.rpc.select_3($getSelectedX($getWidget_16(this)), $getSelectedY($getWidget_16(this)));\n}\n;\n_.onStateChanged = function onStateChanged_16(stateChangeEvent){\n  $onStateChanged_0(this, stateChangeEvent);\n  (stateChangeEvent.hasPropertyChanged('rowCount') || stateChangeEvent.hasPropertyChanged('columnCount') || stateChangeEvent.hasPropertyChanged('updateGrid')) && $updateGrid($getWidget_16(this), $getState_19(this).rowCount, $getState_19(this).columnCount);\n  if (stateChangeEvent.hasPropertyChanged('changedX') || stateChangeEvent.hasPropertyChanged('changedY') || stateChangeEvent.hasPropertyChanged('changedColor') || stateChangeEvent.hasPropertyChanged('updateColor')) {\n    $updateColor($getWidget_16(this), $getState_19(this).changedColor, $getState_19(this).changedX, $getState_19(this).changedY);\n    $isGridLoaded($getWidget_16(this)) || this.rpc.refresh();\n  }\n}\n;\nfunction $$init_1438(this$static){\n  this$static.rows_0 = 1;\n  this$static.columns = 1;\n  this$static.gridLoaded = false;\n}\n\nfunction $addClickHandler_4(this$static, handler){\n  return $addDomHandler(this$static, handler, getType_10());\n}\n\nfunction $createGrid(this$static){\n  this$static.grid = new Grid_0(this$static.rows_0, this$static.columns);\n  this$static.grid.setWidth('100%');\n  this$static.grid.setHeight('100%');\n  $addClickHandler_0(this$static.grid, this$static);\n  return this$static.grid;\n}\n\nfunction $getSelectedX(this$static){\n  return this$static.selectedX;\n}\n\nfunction $getSelectedY(this$static){\n  return this$static.selectedY;\n}\n\nfunction $isGridLoaded(this$static){\n  return this$static.gridLoaded;\n}\n\nfunction $updateColor(this$static, changedColor, changedX, changedY){\n  var c, element;\n  if (jsNotEquals(changedColor, null) && jsNotEquals(changedX, null) && jsNotEquals(changedY, null)) {\n    if (changedColor.length == changedX.length && changedX.length == changedY.length) {\n      for (c = 0; c < changedColor.length; c++) {\n        element = $getElement_0($getCellFormatter(this$static.grid), parseInt_1(changedX[c]), parseInt_1(changedY[c]));\n        $setProperty_0($getStyle(element), 'background', changedColor[c]);\n      }\n    }\n    this$static.gridLoaded = true;\n  }\n}\n\nfunction $updateGrid(this$static, rowCount, columnCount){\n  this$static.rows_0 = rowCount;\n  this$static.columns = columnCount;\n  $remove_4(this$static, this$static.grid);\n  $add_4(this$static, $createGrid(this$static), 0, 0);\n}\n\nfunction VColorPickerGrid(){\n  $clinit_UIObject();\n  AbsolutePanel.call(this);\n  $$init_1438(this);\n  $add_4(this, $createGrid(this), 0, 0);\n}\n\ndefineClass(333, 2019, {889:1, 296:1, 2478:1, 191:1, 2259:1, 720:1, 142:1, 2275:1, 69:1, 2299:1, 2272:1, 157:1, 177:1, 9:1, 333:1, 107:1}, VColorPickerGrid);\n_.addClickHandler = function addClickHandler_5(handler){\n  return $addClickHandler_4(this, handler);\n}\n;\n_.onClick = function onClick_51(event_0){\n  var cell;\n  cell = $getCellForEvent(this.grid, event_0);\n  if (isNull_1(cell)) {\n    return;\n  }\n  this.selectedY = $getRowIndex(cell);\n  this.selectedX = $getCellIndex_0(cell);\n}\n;\n_.columns = 0;\n_.gridLoaded = false;\n_.rows_0 = 0;\n_.selectedX = 0;\n_.selectedY = 0;\nfunction $$init_1631(){\n}\n\nfunction ColorPickerGridState(){\n  AbstractComponentState.call(this);\n  $$init_1631();\n}\n\ndefineClass(403, 129, {129:1, 447:1, 403:1, 3:1}, ColorPickerGridState);\n_.columnCount = 0;\n_.rowCount = 0;\nvar Lcom_vaadin_shared_ui_colorpicker_ColorPickerGridState_2_classLit = createForClass('com.vaadin.shared.ui.colorpicker.', 'ColorPickerGridState', 403, Lcom_vaadin_shared_AbstractComponentState_2_classLit), Lcom_vaadin_client_ui_colorpicker_ColorPickerGridConnector_2_classLit = createForClass('com.vaadin.client.ui.colorpicker.', 'ColorPickerGridConnector', 723, Lcom_vaadin_client_ui_AbstractComponentConnector_2_classLit), Lcom_vaadin_client_metadata_ConnectorBundleLoaderImpl$3$1$1_2_classLit = createForClass('com.vaadin.client.metadata.', 'ConnectorBundleLoaderImpl$3$1$1', 1785, Ljava_lang_Object_2_classLit), Lcom_vaadin_client_metadata_ConnectorBundleLoaderImpl$3$1$2_2_classLit = createForClass('com.vaadin.client.metadata.', 'ConnectorBundleLoaderImpl$3$1$2', 1389, Ljava_lang_Object_2_classLit), Lcom_google_gwt_user_client_ui_HTMLTable$Cell_2_classLit = createForClass('com.google.gwt.user.client.ui.', 'HTMLTable$Cell', 1809, Ljava_lang_Object_2_classLit), Lcom_vaadin_client_ui_colorpicker_VColorPickerGrid_2_classLit = createForClass('com.vaadin.client.ui.colorpicker.', 'VColorPickerGrid', 333, Lcom_google_gwt_user_client_ui_AbsolutePanel_2_classLit);\n$entry(onLoad)(3);\n\n//# sourceURL=org.semanticsoft.vaaclipse.widgetset.DefaultWidgetset-3.js\n")
